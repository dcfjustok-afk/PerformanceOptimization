异步加载与虚拟化
    这是React性能优化中针对首屏加载、资源体积和大列表渲染的优化策略

1、异步加载 （懒加载 组件）
    为什么要懒加载
        React项目中通常包含多个组件和页面
        如果全部打包到首屏bundle，会导致
            首屏加载慢
            用户体验差
    官方懒加载
        核心API
            React.lazy：动态导入组件
            Suspense：提供加载占位
        示例： LazyDemo；
            1、使用React.lazy动态导入组件
            2、使用Suspense包裹组件，指定fallback（加载占位）
            const HeavyComponent = React.lazy(() => import('./HeavyComponent'));
            <Suspense fallback={<div>加载中...</div>}>
                    <HeavyComponent />
            </Suspense>         
        
        优点：
            减少首屏包体积
            提升页面首屏渲染速度
    注意事项：
        Suspense fallback 可以是任意 React 元素；

        懒加载组件不能直接 SSR（Server Side Rendering），需配合特定工具（如 Next.js）；

        动态 import 支持代码分割：

2.列表虚拟化 （Virtualization）
    为什么需要虚拟化
        当渲染大量列表（如上千条数据时）
            1.DOM节点过多，浏览器卡顿
            2.页面滚动性能下降
        虚拟化可渲染可视区域的DOM，超出视口节点不渲染
    常用库：
        react-window
        react-virtualized
        自己实现简单虚拟列表（高级用法）

总结：
    异步加载（懒加载）：减小首屏包体积，提升加载速度；

    虚拟化（Virtualization）：大列表只渲染可视区域，减少 DOM 节点，提高渲染性能；

    组合使用：复杂页面可以懒加载组件 + 虚拟列表 + 分页 → 体验最佳。


*****综合案例*****：

    假设有一个电商商品列表：

    首屏只显示热门推荐；

    商品列表懒加载组件；

    商品列表数据量大 → 使用虚拟列表。

const ProductList = React.lazy(() => import('./ProductList'));

function App() {
  return (
    <div>
      <h1>热门推荐</h1>
      <Suspense fallback={<div>加载商品列表中...</div>}>
        <ProductList />
      </Suspense>
    </div>
  );
}


在 ProductList 内部：

<List
  height={500}
  itemCount={products.length}
  itemSize={100}
  width={800}
>
  {({ index, style }) => (
    <div style={style}>{products[index].name}</div>
  )}
</List>


✅ 这样：

首屏快速加载；

大量商品滚动流畅；

页面整体性能提升明显。